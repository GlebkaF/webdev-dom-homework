<!DOCTYPE html>
<html>

<head>
	<title>Проект "Комменты"</title>
	<link rel="stylesheet" href="styles.css" />
</head>

<body>
	<div class="container">
		<ul class="comments" id="comment-list">
			<li class="comment">
				<div class="comment-header">
					<div>Глеб Фокин</div>
					<div>12.02.22 12:18</div>
				</div>
				<div class="comment-body">
					<div class="comment-text">
						Это будет первый комментарий на этой странице
					</div>
				</div>
				<div class="comment-footer">
					<div class="likes">
						<span class="likes-counter">3</span>
						<button class="like-button"></button>
					</div>
				</div>
			</li>
			<li class="comment">
				<div class="comment-header">
					<div>Варвара Н.</div>
					<div>13.02.22 19:22</div>
				</div>
				<div class="comment-body">
					<div class="comment-text">
						Мне нравится как оформлена эта страница! ❤
					</div>
				</div>
				<div class="comment-footer">
					<div class="likes">
						<span class="likes-counter">75</span>
						<button class="like-button -active-like"></button>
					</div>
				</div>
			</li>
		</ul>
		<div class="add-form">
			<input id="input-name"
          type="text"
          class="add-form-name"
          placeholder="Введите ваше имя"
        />
			<textarea id="textarea-form"
          type="textarea"
          class="add-form-text"
          placeholder="Введите ваш коментарий"
          rows="4"
        ></textarea>
			<div class="add-form-row">
				<button class="add-form-button" id="button-form">Написать</button>
			</div>
		</div>
	</div>
  <style>
    .error {
      background-color: #DF6C6C;
    }
  </style>
</body>

<script>
  const buttonElement = document.getElementById('button-form');
  const inputNameElement = document.getElementById('input-name');
  const textareaElement = document.getElementById('textarea-form');
  const commentElement = document.getElementById('comment-list');

  
  const locale = 'ru-RU';
  let todayData = {day: 'numeric', month: 'numeric', year: '2-digit'};
  let todayTime = {hour: 'numeric', minute: '2-digit'};
  let date = new Date();

	buttonElement.addEventListener("click", () => {
	  inputNameElement.classList.remove("error");
	  textareaElement.classList.remove("error")
    if (inputNameElement.value === "" || textareaElement.value === "" ) {
      inputNameElement.classList.add("error"); textareaElement.classList.add("error");
	    return;
  }

	const oldListHtml = commentElement.innerHTML;
	commentElement.innerHTML = oldListHtml +
	  `<li class="comment">
      <div class="comment-header">
        <div>${inputNameElement.value}</div>
        <div>${date.toLocaleString(locale, todayData)} ${date.toLocaleTimeString(locale, todayTime)}</div>
      </div>
      <div class="comment-body">
        <div class="comment-text"> ${textareaElement.value}</div>
      </div>
      <div class="comment-footer">
        <div class="likes">
          <span class="likes-counter">0</span>
          <button class="like-button"></button>
        </div>
      </div>
    </li>`

		inputNameElement.value = '';
	  textareaElement.value = '';
});


</script>

</html>
