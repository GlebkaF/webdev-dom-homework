                              <!-- 1 -->
<!-- //–Æ—Ä–∞ –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-—Å—á–µ—Ç—á–∏–∫, –Ω–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π: –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –ø–µ—Ä–µ—Å–∫–∞–∫–∏–≤–∞–µ—Ç —Å 4 —Å—Ä–∞–∑—É –Ω–∞ 1. –ü–æ—á–µ–º—É –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–ª –Æ—Ä–∞, –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª? –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É. üí° –§—É–Ω–∫—Ü–∏—è delay –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥, –Ω–µ –∏–∑–º–µ–Ω—è–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ delay. -->
<!-- <!DOCTYPE html>
<html>
  <head>
    <title>Counter</title>
  </head>

  <body>
    <button>Click me</button>
  </body>

  <script>
    document.querySelector("button").addEventListener("click", () => {
      document.body.innerHTML = "6";
      delay(1000)
        .then(() => {
          document.body.innerHTML = "5";
          return delay(1000);
        })
        .then(() => {
          document.body.innerHTML = "4";
          return delay(1000);
        })
        .then(() => {
          document.body.innerHTML = "3";
          return delay(1000);
        })
        .then(() => {
          document.body.innerHTML = "2";
          return delay(1000);
        })
        .then(() => {
          document.body.innerHTML = "1";
          return delay(1000);
        })
        .then(() => {
          document.body.innerHTML = "Done";
        });
    });

    function delay(interval = 1000) {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve();
        }, interval);
      });
    }
  </script>
</html> -->

                                  <!-- 2 -->

<!-- //–Æ—Ä–∞ –æ—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–ª –∫–æ–¥ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è, —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –≤—ã–∑–æ–≤–æ–≤ delay(1000), –Ω–æ –∫–æ–¥ —Å–ª–æ–º–∞–ª—Å—è, —Å—á–µ—Ç—á–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å? –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É. -->
<!-- <!DOCTYPE html>
<html>
  <head>
    <title>Counter</title>
  </head>

  <body>
    <button>Click me</button>
  </body>

  <script>
    document.querySelector("button").addEventListener("click", () => {
      document.body.innerHTML = "6";
      delayForSecond()

      .then(() =>{  
          document.body.innerHTML = "5";
          return delayForSecond();
        })
        .then(() => {
          document.body.innerHTML = "4";
          return delayForSecond();
        })
        .then(() => {
          document.body.innerHTML = "3";
          return delayForSecond();
        })
        .then(() => {
          document.body.innerHTML = "2";
          return delayForSecond();
        })
        .then(() => {
          document.body.innerHTML = "1";
          return delayForSecond();
        })
        .then(() => {
          document.body.innerHTML = "0";
        });
      });

    function delayForSecond() {
    return  delay(1000); //—Ç—É—Ç return –±—ã–ª –ø—Ä–æ–ø—É—â–µ–Ω
    }

    function delay(interval = 1000) {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve();
        }, interval);
      });
    }
  </script>
</html> -->

                                    <!-- 3 -->
              <!-- –ü–æ–º–µ–Ω—è–π—Ç–µ –∫–æ–¥ —Å —É—Ä–æ–∫–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –±—ã–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π deleteTodo() –∏ addTodo(). -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>–£—Ä–æ–∫ ¬´–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å¬ª</title>
  </head>

  <body>
    <h1>–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</h1>
    <ul class="tasks" id="list">
      <!‚Äî –°–ø–∏—Å–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∏–∑ JS ‚Äî>
    </ul>
    <br />
    <div class="form">
      <h3 class="form-title">–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</h3>
      <div class="form-row">
        –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
        <input
          type="text"
          id="text-input"
          class="input"
          placeholder="–í—ã–ø–∏—Ç—å –∫–æ—Ñ–µ"
        />
      </div>
      <br />
      <button class="button" id="add-button">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
  </body>

  <script>
    const buttonElement = document.getElementById("add-button");
    const listElement = document.getElementById("list");
    const textInputElement = document.getElementById("text-input");

    let tasks = [];

    const fetchAndRenderTasks = () => {
      return fetch("https://webdev-hw-api.vercel.app/api/todos", {
        method: "GET",
      })
        .then((response) => {
          return response.json();
        })
        .then((responseData) => {
          tasks = responseData.todos;
          renderTasks();
        });
    };

    const renderTasks = () => {
      const tasksHtml = tasks
        .map((task) => {
          return `
          <li class="task">
            <p class="task-text">
              ${task.text}
              <button data-id="${task.id}" class="button delete-button">–£–¥–∞–ª–∏—Ç—å</button>
            </p>
          </li>`;
        })
        .join("");

      listElement.innerHTML = tasksHtml;
      
      const deleteButtons = document.querySelectorAll(".delete-button");

      for (const deleteButton of deleteButtons) {
        deleteButton.addEventListener("click", (event) => {
          event.stopPropagation();

          const id = deleteButton.dataset.id;

          fetch("https://webdev-hw-api.vercel.app/api/todos/" + id, {
            method: "DELETE",
          }).then((response) => {
            response.json().then((responseData) => {
              // { result: 'ok' }
              // tasks = responseData.todos;
              renderTasks();
            });
          });

          renderTasks();
        });
      }
    };

    fetchAndRenderTasks();
    renderTasks();

    buttonElement.addEventListener("click", () => {
      if (textInputElement.value === "") {
        return;
      }

      const startAt = Date.now();
      console.log("–ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å");

      buttonElement.disabled = true;
      buttonElement.textContent = "–≠–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è—Ç—Å—è...";
      // –ü—Ä–∏–º–µ—Ä, –∫–æ–¥ –≤—ã—à–µ, –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ —Ü–µ–ø–æ—á–∫—É –ø—Ä–æ–º–∏—Å–æ–≤:
      
      
      const addTodo = () => {
        console.log("–º—ã –≤ —Ñ—É–Ω–∫—Ü–∏–∏");
      fetch("https://webdev-hw-api.vercel.app/api/todos", {
        method: "POST",
        body: JSON.stringify({
          text: textInputElement.value,
        }),
      })
        .then((response) => {
          console.log("–í—Ä–µ–º—è: " + (Date.now() - startAt));
          return response;
        })
        .then((response) => {
          return response.json();
        })
        .then((response) => {
          console.log("–í—Ä–µ–º—è: " + (Date.now() - startAt));
          return response;
        })
        .then(() => {
          return fetchAndRenderTasks();
        })
        .then(() => {
          buttonElement.disabled = false;
          buttonElement.textContent = "–î–æ–±–∞–≤–∏—Ç—å";
        });
      };
      addTodo();
      renderTasks();

      textInputElement.value = "";
    });
  </script>
</html>           